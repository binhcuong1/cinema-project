<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đặt Vé Nhanh - Cinestar</title>
    <!-- CSS -->
    <link rel="stylesheet" href="/frontend/assets/css/shares/header.css">
    <link rel="stylesheet" href="/frontend/assets/css/shares/admin.css">
    <link rel="stylesheet" href="/frontend/assets/css/shares/footer.css">
    <link rel="stylesheet" href="/frontend/assets/css/style.css">
    <link rel="stylesheet" href="/frontend/assets/css/login.css">
    <link rel="stylesheet" href="/frontend/assets/css/booking/seat-selection.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body data-page="booking">
    <!-- Placeholder cho header -->
    <div id="header-placeholder"></div>

    <!-- Placeholder cho sidebar -->
    <div id="sidebar-placeholder"></div>

    <!-- Nội dung chính -->
    <main class="main-content">

        <div class="movies-container">
            <!-- Phần hiển thị kết quả đặt vé (tĩnh) -->
            <div id="booking-details">
                <br>
                <div class="booking-details-container">
                    <!-- Bên trái: Poster -->
                    <div class="booking-poster">
                        <img id="movie-poster" src="" alt="" class="movie-poster">
                    </div>
                    <!-- Bên phải: Thông tin đặt vé và nút đặt vé -->
                    <div class="booking-info">
                        <h3 id="movie-title" class="movie-title"></h3>
                        <div id="movie-details" class="movie-details">
                            <p id="genre" class="detail-item"><i class="fas fa-ticket-alt"></i></p>
                            <p id="duration" class="detail-item"><i class="fas fa-clock"></i></p>
                            <p id="country" class="detail-item"><i class="fas fa-globe"></i></p>
                            <p id="language" class="detail-item"><i class="fas fa-language"></i></p>
                            <p id="age-rating" class="detail-item"><i class="fas fa-user-alt"></i></p>
                        </div>
                        <h4 class="section-title">ĐỘI NGŦ</h4>
                        <p id="director" class="info-item"><strong>Đạo diễn:</strong></p>
                        <p id="actors" class="info-item"><strong>Diễn viên:</strong></p>
                        <p id="music" class="info-item"><strong>Âm nhạc:</strong></p>
                        <p id="release-date" class="info-item"><strong>Khởi chiếu:</strong></p>
                        <h4 class="section-title">NỘI DUNG PHIM</h4>
                        <p id="synopsis" class="info-item"></p>
                        <p class="info-item" id="theater-display"><strong>Rạp:</strong> Chưa chọn</p>
                        <p class="info-item" id="date-display"><strong>Ngày:</strong> Chưa chọn</p>
                        <p class="info-item" id="showtime-display"><strong>Suất chiếu:</strong> Chưa chọn</p>
                        <a id="trailer-link" href="" class="trailer-link">
                            <i class="fa-solid fa-play"></i> Xem trailer
                        </a>
                    </div>
                </div>
            </div>

            <!-- Phần chọn loại vé -->
            <div class="ticket-options" id="ticket-options">
                <!-- Danh sách loại vé sẽ được render động -->
            </div>

            <!-- Phần chọn ghế - rạp -->
            <div class="seat-selection">
                <h3>Chọn Ghế - Rạp</h3>
                <div class="screen">Màn Hình</div>
                <div class="seat-grid" id="seat-grid">
                    <!-- Ghế sẽ được tạo động bằng JavaScript -->
                </div>
                <div class="seat-labels">
                    <div class="seat-label available"><span></span> Ghế trống</div>
                    <div class="seat-label selected"><span></span> Ghế đã chọn</div>
                    <div class="seat-label sold"><span></span> Ghế đã bán</div>
                </div>
            </div>

            <!-- Phần chọn bắp nước -->
            <div class="snack-selection">
                <h3>Chọn Bắp Nước</h3>
                <div class="snack-options">
                    <!-- Combo 2 Người -->
                    <div style="width: 100%; text-align: center; color: #ff6200; font-size: 18px; margin-bottom: 10px;">
                        Combo 2 Người</div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/bắp-nước1.png" alt="Combo Gấu">
                        <div class="info">
                            <p>Combo Gấu</p>
                            <p>1 Coke 32oz + 1 Bắp 2 Ngăn 640z Phô Mai + Caramel</p>
                            <p class="price">119,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('combo-gau', -1)">-</button>
                                <span id="combo-gau-quantity">0</span>
                                <button onclick="updateSnackQuantity('combo-gau', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/bắp-nước2.png" alt="Combo Cố Gấu">
                        <div class="info">
                            <p>Combo Có Gấu</p>
                            <p>2 Coke 32oz + 1 Bắp 2 Ngăn 64OZ Phô Mai + Caramel</p>
                            <p class="price">129,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('combo-co-gau', -1)">-</button>
                                <span id="combo-co-gau-quantity">0</span>
                                <button onclick="updateSnackQuantity('combo-co-gau', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/bắp-nước3.png" alt="Combo Nhí Gấu">
                        <div class="info">
                            <p>Combo Nhà Gấu</p>
                            <p>4 Coke 32oz + 2 Bắp 2 Ngăn 64OZ Phô Mai + Caramel</p>
                            <p class="price">259,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('combo-nhi-gau', -1)">-</button>
                                <span id="combo-nhi-gau-quantity">0</span>
                                <button onclick="updateSnackQuantity('combo-nhi-gau', 1)">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- Nước Ngọt -->
                    <div style="width: 100%; text-align: center; color: #ff6200; font-size: 18px; margin: 20px 0 10px;">
                        Nước Ngọt</div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/sprite.png" alt="Sprite 32oz">
                        <div class="info">
                            <p>Sprite 32OZ</p>
                            <p class="price">37,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('sprite-32oz', -1)">-</button>
                                <span id="sprite-32oz-quantity">0</span>
                                <button onclick="updateSnackQuantity('sprite-32oz', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/COKE-ZERO.png" alt="Coke Zero 32oz">
                        <div class="info">
                            <p>Coke Zero 32OZ</p>
                            <p class="price">37,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('coke-zero-32oz', -1)">-</button>
                                <span id="coke-zero-32oz-quantity">0</span>
                                <button onclick="updateSnackQuantity('coke-zero-32oz', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/coca.png" alt="Coke 32oz">
                        <div class="info">
                            <p>Coke 32OZ</p>
                            <p class="price">37,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('coke-32oz', -1)">-</button>
                                <span id="coke-32oz-quantity">0</span>
                                <button onclick="updateSnackQuantity('coke-32oz', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/fanta.jpg" alt="Fanta 32oz">
                        <div class="info">
                            <p>Fanta 32OZ</p>
                            <p class="price">37,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('fanta-32oz', -1)">-</button>
                                <span id="fanta-32oz-quantity">0</span>
                                <button onclick="updateSnackQuantity('fanta-32oz', 1)">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- Nước Đóng Chai -->
                    <div style="width: 100%; text-align: center; color: #ff6200; font-size: 18px; margin: 20px 0 10px;">
                        Nước Đóng Chai</div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/TEPPY.png" alt="Nước Cam Teppy 337ml">
                        <div class="info">
                            <p>Nước Cam Teppy 337ml</p>
                            <p class="price">28,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('nuoc-cam-teppy', -1)">-</button>
                                <span id="nuoc-cam-teppy-quantity">0</span>
                                <button onclick="updateSnackQuantity('nuoc-cam-teppy', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/dasani.png" alt="Nước Suối Dasani 500/510ml">
                        <div class="info">
                            <p>Nước Suối Dasani 500/510ml</p>
                            <p class="price">20,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('nuoc-suoi-dasani', -1)">-</button>
                                <span id="nuoc-suoi-dasani-quantity">0</span>
                                <button onclick="updateSnackQuantity('nuoc-suoi-dasani', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/NUTRI.png" alt="Nước Trái Cây Nutriboost 297ml">
                        <div class="info">
                            <p>Nước Trái Cây Nutriboost 297ml</p>
                            <p class="price">28,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('nuoc-trai-cay-nutriboost', -1)">-</button>
                                <span id="nuoc-trai-cay-nutriboost-quantity">0</span>
                                <button onclick="updateSnackQuantity('nuoc-trai-cay-nutriboost', 1)">+</button>
                            </div>
                        </div>
                    </div>

                    <!-- Snacks (gộp Snack và Poca) -->
                    <div style="width: 100%; text-align: center; color: #ff6200; font-size: 18px; margin: 20px 0 10px;">
                        Snacks</div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/snack-que-thai.png" alt="Snack Thái">
                        <div class="info">
                            <p>Snack Thái</p>
                            <p class="price">25,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('snack-thai', -1)">-</button>
                                <span id="snack-thai-quantity">0</span>
                                <button onclick="updateSnackQuantity('snack-thai', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/Poca.png" alt="Poca Wavy 54gr">
                        <div class="info">
                            <p>Poca Wavy 54gr</p>
                            <p class="price">28,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('poca-wavy-54gr', -1)">-</button>
                                <span id="poca-wavy-54gr-quantity">0</span>
                                <button onclick="updateSnackQuantity('poca-wavy-54gr', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/khoaitaylays.png" alt="Khoai Tây Lay's Stax 100g">
                        <div class="info">
                            <p>Khoai Tây Lay's Stax 100g</p>
                            <p class="price">59,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('khoai-tay-lays-stax-100g', -1)">-</button>
                                <span id="khoai-tay-lays-stax-100g-quantity">0</span>
                                <button onclick="updateSnackQuantity('khoai-tay-lays-stax-100g', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/poca-partyz.png" alt="Snack Partyz 30-33gr">
                        <div class="info">
                            <p>Snack Partyz 30-33gr</p>
                            <p class="price">20,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('snack-partyz-30-33gr', -1)">-</button>
                                <span id="snack-partyz-30-33gr-quantity">0</span>
                                <button onclick="updateSnackQuantity('snack-partyz-30-33gr', 1)">+</button>
                            </div>
                        </div>
                    </div>
                    <div class="snack-option">
                        <img src="/frontend/assets/images/lays-khoai-tay.png" alt="Poca Khoai Tây 54gr">
                        <div class="info">
                            <p>Poca Khoai Tây 54gr</p>
                            <p class="price">28,000 VNĐ</p>
                            <div class="counter">
                                <button onclick="updateSnackQuantity('poca-khoai-tay-54gr', -1)">-</button>
                                <span id="poca-khoai-tay-54gr-quantity">0</span>
                                <button onclick="updateSnackQuantity('poca-khoai-tay-54gr', 1)">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Thanh tạm tính (ẩn ban đầu) -->
            <div id="summary-bar" class="summary-bar">
                <div>
                    <h4 style="margin: 0; font-size: 16px; text-transform: uppercase;">Tìm Xác: Ma Không Đầu (T18)</h4>
                    <p style="margin: 5px 0; font-size: 14px;" id="summary-theater">Cinestar Quốc Thanh (TPHCM)</p>
                    <p style="margin: 5px 0; font-size: 14px;" id="summary-showtime">08:45</p>
                </div>
                <div style="text-align: right;">
                    <p style="margin: 5px 0; font-size: 14px;">Thời gian đặt vé: <span id="summary-time">05:00</span>
                    </p>
                    <p style="margin: 5px 0; font-size: 14px; color: #ffeb3b;" id="summary-total">0 VNĐ</p>
                    <a href="confirmation.html"
                        style="padding: 10px 20px; background-color: #ffeb3b; border: none; border-radius: 5px; color: #000; text-decoration: none; cursor: pointer; transition: background-color 0.3s ease; font-weight: bold;"
                        onmouseover="this.style.backgroundColor='#ffd700'"
                        onmouseout="this.style.backgroundColor='#ffeb3b'">
                        Đặt Vé
                    </a>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer id="footer-container"></footer>

    <!-- Scripts -->
    <script src="https://kit.fontawesome.com/08325f215d.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="/frontend/assets/js/main.js"></script>
    <script src="/frontend/assets/js/admin.js"></script>
    <script src="/frontend/assets/js/movie.js"></script>
    <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'9346458879b13976',t:'MTc0NTMzNjk3MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>

    <script src="/frontend/assets/js/booking/seat-selection.js"></script>

    <script>
        /**************************
         * KHU VỰC KHỞI TẠO VÀ XỬ LÝ CHUNG
         * - Các sự kiện khởi tạo trang và xử lý hành vi mặc định
         **************************/

        // Ngăn submit form mặc định (nếu có form)
        document.querySelector('.schedule-form')?.addEventListener('submit', function (event) {
            event.preventDefault();
        });

        // Khởi tạo ghế khi trang tải
        document.addEventListener('DOMContentLoaded', renderSeats);

        /**************************
         * KHU VỰC CHỌN NGÀY, SUẤT CHIẾU VÀ LỌC RẠP
         * - Quản lý việc chọn ngày, suất chiếu, và lọc rạp theo thành phố
         **************************/

        // Hàm chọn ngày và cập nhật trạng thái nút
        function selectDate(date, button) {
            document.getElementById('date-display').innerHTML = `<strong>Ngày:</strong> ${date}`; // Hiển thị ngày đã chọn
            const buttons = document.querySelectorAll('.schedule-btn');
            buttons.forEach(btn => {
                btn.classList.remove('active'); // Bỏ trạng thái active của các nút khác
            });
            button.classList.add('active'); // Đánh dấu nút đã chọn
            updateSummaryBarVisibility(); // Cập nhật hiển thị thanh tạm tính
        }

        // Hàm chọn suất chiếu và cập nhật trạng thái nút
        function selectShowtime(time, theater, button, theaterId) {
            document.getElementById('theater-display').innerHTML = `<strong>Rạp:</strong> ${theater}`; // Hiển thị rạp đã chọn
            document.getElementById('showtime-display').innerHTML = `<strong>Suất chiếu:</strong> ${time}`; // Hiển thị suất chiếu
            document.getElementById('summary-theater').textContent = theater; // Cập nhật rạp trong thanh tạm tính
            document.getElementById('summary-showtime').textContent = time; // Cập nhật suất chiếu trong thanh tạm tính
            const allShowtimeButtons = document.querySelectorAll('.showtime-btn');
            allShowtimeButtons.forEach(btn => {
                btn.classList.remove('active'); // Bỏ trạng thái active của các nút khác
            });
            button.classList.add('active'); // Đánh dấu nút đã chọn
            updateSummaryBarVisibility(); // Cập nhật hiển thị thanh tạm tính
        }

        // Hàm lọc rạp theo thành phố
        function filterTheatersByCity(city) {
            const theaterItems = document.querySelectorAll('.theater-item');
            theaterItems.forEach(item => {
                if (item.getAttribute('data-city') === city) {
                    item.style.display = 'block'; // Hiển thị rạp thuộc thành phố được chọn
                } else {
                    item.style.display = 'none'; // Ẩn các rạp không thuộc thành phố
                }
            });
            const selectedTheater = document.getElementById('theater-display').textContent.split(': ')[1];
            if (!selectedTheater || !Array.from(document.querySelectorAll('.theater-item[data-city="' + city + '"] summary')).some(summary => summary.textContent.includes(selectedTheater))) {
                document.getElementById('theater-display').innerHTML = `<strong>Rạp:</strong> Chưa chọn`; // Reset rạp nếu không hợp lệ
                document.getElementById('showtime-display').innerHTML = `<strong>Suất chiếu:</strong> Chưa chọn`; // Reset suất chiếu
                document.getElementById('summary-bar').style.display = 'none'; // Ẩn thanh tạm tính
            }
            updateSummaryBarVisibility(); // Cập nhật hiển thị thanh tạm tính
        }

        /**************************
         * KHU VỰC QUẢN LÝ VÉ
         * - Quản lý số lượng vé và tính tổng tiền liên quan đến vé
         **************************/

        // Biến lưu số lượng và giá vé
        const ticketQuantities = {
            'adult-single': 0,
            'senior-student': 0,
            'adult-couple': 0
        };

        const ticketPrices = {
            'adult-single': 45000,
            'senior-student': 45000,
            'adult-couple': 95000
        };

        // Hàm cập nhật số lượng vé
        function updateTicketQuantity(type, change) {
            const quantityElement = document.getElementById(`${type}-quantity`);
            let quantity = ticketQuantities[type];
            quantity += change;

            // Giới hạn số lượng từ 0 đến 10
            if (quantity < 0) quantity = 0;
            if (quantity > 10) quantity = 10;

            ticketQuantities[type] = quantity;
            quantityElement.textContent = quantity; // Cập nhật số lượng hiển thị

            // Cập nhật tổng tiền
            updateTotalPrice();

            // Cập nhật trạng thái nút - và +
            const minusButton = quantityElement.previousElementSibling;
            const plusButton = quantityElement.nextElementSibling;
            minusButton.disabled = quantity === 0; // Vô hiệu hóa nút - nếu số lượng = 0
            plusButton.disabled = quantity === 10; // Vô hiệu hóa nút + nếu số lượng = 10

            // Cập nhật hiển thị thanh tạm tính
            updateSummaryBarVisibility();
        }

        // Hàm tính tổng số lượng vé
        function getTotalTickets() {
            let totalTickets = 0;
            for (const type in ticketQuantities) {
                totalTickets += ticketQuantities[type];
            }
            return totalTickets;
        }

        /**************************
         * KHU VỰC QUẢN LÝ BẮP NƯỚC (SNACKS)
         * - Quản lý số lượng bắp nước và tính tổng tiền liên quan đến bắp nước
         **************************/

        // Biến lưu số lượng và giá bắp nước
        const snackQuantities = {
            'combo-gau': 0,
            'combo-co-gau': 0,
            'combo-nhi-gau': 0,
            'sprite-32oz': 0,
            'coke-zero-32oz': 0,
            'coke-32oz': 0,
            'fanta-32oz': 0,
            'nuoc-cam-teppy': 0,
            'nuoc-suoi-dasani': 0,
            'nuoc-trai-cay-nutriboost': 0,
            'snack-thai': 0,
            'poca-wavy-54gr': 0,
            'khoai-tay-lays-stax-100g': 0,
            'snack-partyz-30-33gr': 0,
            'poca-khoai-tay-54gr': 0
        };

        const snackPrices = {
            'combo-gau': 119000,
            'combo-co-gau': 129000,
            'combo-nhi-gau': 259000,
            'sprite-32oz': 37000,
            'coke-zero-32oz': 37000,
            'coke-32oz': 37000,
            'fanta-32oz': 37000,
            'nuoc-cam-teppy': 28000,
            'nuoc-suoi-dasani': 20000,
            'nuoc-trai-cay-nutriboost': 28000,
            'snack-thai': 25000,
            'poca-wavy-54gr': 28000,
            'khoai-tay-lays-stax-100g': 59000,
            'snack-partyz-30-33gr': 20000,
            'poca-khoai-tay-54gr': 28000
        };

        // Hàm cập nhật số lượng bắp nước
        function updateSnackQuantity(type, change) {
            const quantityElement = document.getElementById(`${type}-quantity`);
            let quantity = snackQuantities[type];
            quantity += change;

            // Giới hạn số lượng từ 0 đến 10
            if (quantity < 0) quantity = 0;
            if (quantity > 10) quantity = 10;

            snackQuantities[type] = quantity;
            quantityElement.textContent = quantity; // Cập nhật số lượng hiển thị

            // Cập nhật tổng tiền
            updateTotalPrice();

            // Cập nhật trạng thái nút - và +
            const minusButton = quantityElement.previousElementSibling;
            const plusButton = quantityElement.nextElementSibling;
            minusButton.disabled = quantity === 0; // Vô hiệu hóa nút - nếu số lượng = 0
            plusButton.disabled = quantity === 10; // Vô hiệu hóa nút + nếu số lượng = 10

            // Cập nhật hiển thị thanh tạm tính
            updateSummaryBarVisibility();
        }

        /**************************
         * KHU VỰC TÍNH TỔNG TIỀN VÀ THANH TẠM TÍNH
         * - Tính tổng tiền và điều khiển hiển thị thanh tạm tính
         **************************/

        // Hàm tính tổng tiền vé và bắp nước
        function updateTotalPrice() {
            let totalTickets = 0;
            for (const type in ticketQuantities) {
                totalTickets += ticketQuantities[type] * ticketPrices[type];
            }

            let totalSnacks = 0;
            for (const type in snackQuantities) {
                totalSnacks += snackQuantities[type] * snackPrices[type];
            }

            const total = totalTickets + totalSnacks;
            document.getElementById('summary-total').textContent = `${total.toLocaleString('vi-VN')} VNĐ`; // Hiển thị tổng tiền
            return total;
        }

        // Hàm điều khiển hiển thị thanh tạm tính
        function updateSummaryBarVisibility() {
            const theater = document.getElementById('theater-display').textContent.split(': ')[1];
            const showtime = document.getElementById('showtime-display').textContent.split(': ')[1];
            const summaryBar = document.getElementById('summary-bar');

            if (theater !== 'Chưa chọn' && showtime !== 'Chưa chọn') {
                summaryBar.style.display = 'flex'; // Hiển thị thanh tạm tính nếu đã chọn rạp và suất chiếu
            } else {
                summaryBar.style.display = 'none'; // Ẩn thanh tạm tính nếu chưa chọn đầy đủ
            }
        }
    </script>
</body>

</html>